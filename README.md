# Nexus Mods 直链工具

这是一个浏览器扩展插件，可以自动在 Nexus Mods 页面上显示模组的直接下载链接。

## 功能

- 自动在 Nexus Mods 模组页面上显示直接下载链接
- 点击插件图标可以在弹出窗口中查看当前页面的直链
- 无需手动复制 cookie 或进行其他操作

## 安装方法

### Chrome / Edge / 其他基于 Chromium 的浏览器

1. 下载或克隆本仓库
2. 打开浏览器，访问 `chrome://extensions` (Chrome) 或 `edge://extensions` (Edge)
3. 开启右上角的 "开发者模式"
4. 点击 "加载已解压的扩展程序"
5. 选择本插件的文件夹

### Firefox

1. 下载或克隆本仓库
2. 打开浏览器，访问 `about:debugging#/runtime/this-firefox`
3. 点击 "临时载入附加组件"
4. 选择本插件文件夹中的 `manifest.json` 文件

## 使用方法

1. 安装插件后，访问任意 Nexus Mods 模组页面
2. 插件会自动在页面上显示模组的直链
3. 也可以点击浏览器工具栏上的插件图标，查看直链

## 注意事项

- 您需要登录 Nexus Mods 账号才能获取直链
- 直链有时效性，不能长期保存使用
- 本插件仅供学习和个人使用，请遵守 Nexus Mods 的使用条款

## 技术支持

如有问题或建议，请提交 Issue 

好的，这是将您提供的内容优化为 Markdown 格式的版本：

# Nexus Mods 智能助手使用说明

## 功能概述
Nexus Mods 智能助手是一款专为游戏模组爱好者设计的浏览器扩展，能够自动在 Nexus Mods 网站上显示模组的直接下载链接，大大简化了模组下载流程。

## 主要功能
*   **自动显示直链：** 在 Nexus Mods 模组页面上自动显示直接下载链接
*   **一键复制：** 便捷复制下载链接到剪贴板
*   **批量处理：** 支持游戏列表页面批量获取多个模组的下载链接
*   **AI 模组分析：** 使用 AI 技术分析模组信息，提供更深入的理解
*   **聊天功能：** 内置 AI 聊天助手，帮助解答模组相关问题

## 使用指南
1.  安装完成后，浏览器右上角会出现插件图标。
2.  登录您的 Nexus Mods 账号（**必须登录才能获取直链**）。

### 基本使用
1.  **访问模组页面：** 打开任意 Nexus Mods 模组详情页。
2.  **自动获取直链：** 插件会自动在页面上显示模组的直接下载链接。
3.  **复制链接：** 点击链接旁的复制按钮，即可将链接复制到剪贴板。
4.  **批量处理：** 在游戏模组列表页面，插件可批量获取多个模组的下载链接。

### 高级功能
*   **AI 模组分析：** 在模组详情页点击"AI分析模组"按钮，获取模组的智能分析。
*   **AI 聊天助手：** 点击插件弹出窗口中的"AI助手"，打开聊天窗口咨询模组相关问题。
*   **快捷键：** 使用 `Ctrl+X` (Windows) 或 `Command+X` (Mac) 快速开始/暂停解析直链。

### 设置中心
在插件弹出窗口中，点击"⚙️ 设置中心"可以自定义以下功能：
*   **监听标准模组页面：** 开启/关闭自动获取模组详情页的下载链接。
*   **监听游戏列表页面：** 开启/关闭批量获取游戏列表页面的模组链接。
*   **清除缓存：** 清除已缓存的下载链接数据。

## 常见问题

### 无法获取直链？
*   确保您已登录 Nexus Mods 账号。
*   检查网络连接是否正常。
*   尝试清除插件缓存后重试。

### 下载链接失效？
*   Nexus Mods 的直链有时效性，不能长期保存使用。
*   需要重新访问模组页面获取新的直链。

### 批量获取速度慢？
*   批量获取受 Nexus Mods 网站限制，会有一定延迟。
*   大型列表页面可能需要较长时间处理。

## 技术支持
*   **作者：** B站UP主改洺\_
*   **版本：** v1.0.0
*   **更新：** 访问 B站 作者主页 获取最新版本和更新信息。

### 推荐工具
*   **Steam++：** Steam 工具箱，提供多种实用功能。
*   **IDM下载器：** 强大的多线程下载工具，提升下载速度。

## 注意事项
*   本插件仅供学习和个人使用，请遵守 Nexus Mods 的使用条款。
*   直链有时效性，不能长期保存使用。
*   使用本插件下载模组时，请尊重模组作者的劳动成果。

感谢您使用 Nexus Mods 智能助手，希望它能为您的模组下载体验带来便利。

## 开源许可证

本项目采用 **Apache License 2.0** 开源协议，您可以自由地：
- ✅ 使用本软件进行商业和非商业用途
- ✅ 修改源代码
- ✅ 分发原始代码或修改后的代码
- ✅ 在您的项目中包含本软件

### 使用条件
在使用本软件时，您必须：
- 📄 保留原始的版权声明和许可证文本
- 📝 在修改的文件中标明您所做的更改
- 🔗 提供 Apache License 2.0 的副本

### 版权声明
```
Copyright 2024 改洺_ (B站UP主改洺_)

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
```

## ⚠️ 禁止侵权声明

### 严禁以下行为：
1. **🚫 未经授权的商业化** - 禁止在未遵守 Apache 2.0 许可证条款的情况下进行商业化使用
2. **🚫 恶意传播** - 禁止恶意传播、篡改或破坏本软件
3. **🚫 侵犯版权** - 禁止移除或修改版权声明、许可证信息
4. **🚫 虚假声明** - 禁止声称自己是本软件的原始作者
5. **🚫 专利侵权** - 禁止利用本软件进行专利侵权活动

### 法律责任：
- 任何违反上述条款的行为都可能面临法律追责
- 作者保留追究侵权者法律责任的权利
- 侵权者需承担由此产生的所有法律后果和经济损失

### 免责声明：
本软件按"现状"提供，不提供任何明示或暗示的担保。作者不对使用本软件造成的任何损害承担责任。

---

**📞 如发现侵权行为，请联系作者：B站UP主改洺_**

---

# Nexus Mods 智能助手 - 权限请求说明

## 需请求权限的理由

### 需请求 `activeTab` 的理由
`activeTab` 权限用于访问用户当前浏览的 Nexus Mods 页面内容，以便识别模组信息并在页面上显示直接下载链接。没有此权限，扩展无法读取和修改当前标签页中的模组信息，也无法在页面上显示下载链接。

### 需请求 `scripting` 的理由
`scripting` 权限用于在 Nexus Mods 页面注入必要的脚本代码，以实现自动解析模组信息和显示下载链接的功能。此权限允许扩展在页面上添加下载按钮、链接显示区域等交互元素。

### 需请求 `cookies` 的理由
`cookies` 权限用于获取用户在 Nexus Mods 网站的登录凭证，因为只有登录用户才能获取模组的直接下载链接。扩展需要读取这些 `cookies` 来向 Nexus Mods 服务器发送授权请求，以获取有效的下载链接。

### 需请求 `storage` 的理由
`storage` 权限用于保存用户的设置选项（如是否开启自动解析、请求延迟时间等）和临时缓存下载链接，以提高性能并减少重复请求。这些数据存储在浏览器的本地存储中，不会上传到任何服务器。

### 需请求 `clipboardWrite` 的理由
`clipboardWrite` 权限用于实现"一键复制"功能，让用户可以方便地将获取到的下载链接复制到剪贴板，无需手动选择和复制长URL。这大大提高了用户体验和下载效率。

### 需请求 `webRequest` 的理由
`webRequest` 权限用于监控和分析与 Nexus Mods 网站的网络请求，以便正确识别用户登录状态变化（如退出登录）并及时更新扩展状态。这确保了扩展能够在用户状态变化时正确响应。

### 需请求主机权限的理由
主机权限（`host_permissions`）用于允许扩展与 Nexus Mods 网站（`https://www.nexusmods.com/*` 和 `https://users.nexusmods.com/*`）进行交互，这是获取模组信息和下载链接的必要条件。

### 您正在使用远程代码吗？
否，本扩展不使用远程代码。所有功能代码都包含在扩展包中，在本地执行。扩展仅与 Nexus Mods 官方网站进行必要的通信，以获取模组信息和下载链接。

---

# Nexus Mods 智能助手 - 主机权限请求详细说明

## 需请求主机权限的详细理由

### `https://www.nexusmods.com/*`
此主机权限是扩展核心功能的基础，具体用途如下：
*   **模组页面访问：** 允许扩展访问并分析 Nexus Mods 的模组详情页面，以提取模组ID、游戏名称等关键信息。
*   **下载API调用：** 使扩展能够调用 Nexus Mods 的下载链接生成API（位于 `https://www.nexusmods.com/Core/Libs/Common/Managers/Downloads`）。
*   **页面内容修改：** 允许扩展在模组页面中注入直接下载链接按钮和显示区域。
*   **模组列表处理：** 使扩展能够在游戏模组列表页面（如 `https://www.nexusmods.com/games/游戏名称/mods`）批量获取多个模组的信息。
*   **文件选项卡访问：** 允许扩展访问模组的文件选项卡（`?tab=files`），以获取所有可下载文件的详细信息。

### `https://users.nexusmods.com/*`
此主机权限用于处理用户账户相关功能：
*   **登录状态监控：** 监控用户的登录状态变化，特别是检测用户退出登录事件（`https://users.nexusmods.com/auth/sign_out`）。
*   **用户验证：** 验证用户是否已登录 Nexus Mods 账户，因为只有登录用户才能获取直接下载链接。
*   **会话管理：** 确保扩展能够正确处理用户会话信息，维持授权状态。

### `http://117.72.89.99:7003/*` 和 `ws://117.72.89.99:7003/*`
这些主机权限用于扩展的辅助功能：
*   **在线用户统计：** 连接到服务器获取当前使用扩展的在线用户数量，显示在扩展弹出窗口中。
*   **WebSocket通信：** 建立WebSocket连接以支持聊天室功能，允许用户之间交流模组使用经验。
*   **API调用：** 访问必要的API端点以支持扩展的辅助功能，如用户计数API（`/api/ips/count`）。

所有这些主机权限都是扩展正常运行所必需的，它们共同确保扩展能够：
*   准确识别和解析模组页面。
*   成功获取直接下载链接。
*   正确显示和管理用户界面元素。
*   维护用户授权状态。
*   提供实时的社区互动功能。

扩展严格限制了主机权限的范围，仅请求实现核心功能所必需的权限，不会访问与功能无关的网站或资源。